{"ast":null,"code":"import \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport _classCallCheck from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/pages/cpchannelbind/index.js\";\nimport React, { Component } from 'react';\nimport BaseForm from './../../components/BaseForm/index';\nimport axios from './../../../src/axios/index';\nimport Utils from './../../utils/utils';\nvar Option = _Select.Option;\nvar FormItem = _Form.Item;\n\nvar CpChannelBind =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CpChannelBind, _Component);\n\n  function CpChannelBind() {\n    var _getPrototypeOf2;\n\n    var _this2;\n\n    _classCallCheck(this, CpChannelBind);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CpChannelBind)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this2.state = {\n      list: [],\n      isVisible: false\n    };\n    _this2.params = {\n      page: 1,\n      pageSize: 20\n    };\n\n    _this2.requestSelect = function () {\n      _this2.getCodeTypeList();\n    };\n\n    _this2.getCodeTypeList = function () {\n      var _this = _assertThisInitialized(_this2);\n\n      axios.requestSelect(_this, '/common/getcodetyelist', {}, true, 'codeTypeList');\n    };\n\n    _this2.getMerchantList = function () {\n      var _this = _assertThisInitialized(_this2);\n\n      axios.requestSelect(_this, '/common/getmerchantlist', {}, true, 'merchantList');\n    };\n\n    _this2.getAppIdList = function () {\n      var _this = _assertThisInitialized(_this2);\n\n      axios.requestSelect(_this, '/common/getappidlist', {}, true, 'appIdList');\n    };\n\n    _this2.requestList = function () {\n      var _this = _assertThisInitialized(_this2);\n\n      axios.requestList(_this, '/cpchannelbind/getcpchannelbindlist', _this2.params, true);\n    };\n\n    _this2.handleOperate = function (type) {\n      var items = _this2.state.selectedRows;\n\n      if (type) {\n        if (type == 'edit') {\n          if (!items || items.length == 0) {\n            _Modal.info({\n              title: \"提示\",\n              content: '请选择一个CP绑定通道信息!'\n            });\n\n            return;\n          }\n\n          if (items.length > 1) {\n            _Modal.info({\n              title: \"提示\",\n              content: '只能选择一个CP绑定通道信息编辑!'\n            });\n\n            return;\n          }\n\n          _this2.setState({\n            type: type,\n            isVisible: true,\n            title: '编辑CP绑定通道信息',\n            cpChannelBind: items[0]\n          }); //显示编辑页面\n\n        } else if (type == 'delete') {\n          if (items && items.length >= 1) {\n            var _this = _assertThisInitialized(_this2);\n\n            var ids = '';\n            items.map(function (item) {\n              ids += item.id + '-';\n            });\n\n            _Modal.confirm({\n              title: '确认删除',\n              content: '是否要删除选中项',\n              onOk: function onOk() {\n                axios.ajax({\n                  url: '/cpchannelbind/delete',\n                  data: {\n                    params: {\n                      ids: ids\n                    }\n                  }\n                }).then(function (res) {\n                  if (res.code == 0) {\n                    _this.setState({\n                      isVisible: false,\n                      selectedRowKeys: null\n                    });\n\n                    _message.success(\"删除成功!\");\n\n                    _this.requestList();\n                  } else {\n                    _message.success(\"删除失败!\");\n                  }\n                });\n              }\n            });\n          } else {\n            _Modal.info({\n              title: \"提示\",\n              content: '请选择一个CP通道绑定信息!'\n            });\n\n            return;\n          }\n        } else if (type == 'create') {\n          _this2.setState({\n            type: type,\n            isVisible: true,\n            title: '创建CP通道绑定',\n            merchantInfo: null\n          });\n        }\n      }\n    };\n\n    _this2.handleFilter = function (params) {\n      _this2.params.merchantNo = params.merchantNo;\n      _this2.params.merchantName = params.merchantName;\n      _this2.params.codeType = params.codeType;\n      _this2.params.businessName = params.businessName;\n      _this2.params.realType = params.realType;\n\n      _this2.requestList();\n    };\n\n    _this2.handleSubmit = function () {\n      var type = _this2.state.type;\n\n      _this2.cpChannelBindForm.props.form.validateFields(function (err, values) {\n        if (!err) {\n          var data = _this2.cpChannelBindForm.props.form.getFieldsValue();\n\n          var info = type == 'create' ? '新增' : '编辑';\n          axios.ajax({\n            url: type == 'create' ? '/cpchannelbind/add' : '/cpchannelbind/edit',\n            data: {\n              params: data\n            }\n          }).then(function (res) {\n            if (res.code == 0) {\n              _this2.cpChannelBindForm.props.form.resetFields();\n\n              _this2.setState({\n                isVisible: false,\n                selectedRowKeys: null\n              });\n\n              _message.success(info + \"成功!\");\n\n              _this2.requestList();\n            } else {\n              _message.error(info + \"失败! \" + res.msg);\n            }\n          });\n        }\n      });\n    };\n\n    return _this2;\n  }\n\n  _createClass(CpChannelBind, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.requestList();\n      this.requestSelect();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var formList = [{\n        type: 'INPUT',\n        label: '商户号',\n        field: 'merchantNo',\n        width: 200,\n        placeholder: '请输入查询的商户号'\n      }, {\n        type: 'INPUT',\n        label: '商户名称',\n        field: 'merchantName',\n        width: 200,\n        placeholder: '请输入查询的商户名称'\n      }, {\n        type: 'INPUT',\n        label: 'codeType',\n        field: 'codeType',\n        width: 200,\n        placeholder: '请输入查询的codeType'\n      }, {\n        type: 'INPUT',\n        label: '业务名称',\n        field: 'businessName',\n        width: 200,\n        placeholder: '请输入查询的业务名称'\n      }, {\n        type: 'INPUT',\n        label: '真实类型',\n        field: 'realType',\n        width: 200,\n        placeholder: '请输入查询的真实类型'\n      }]; //设置列名\n\n      var columns = [{\n        title: 'Id',\n        dataIndex: 'id',\n        width: 80\n      }, {\n        title: '商户号',\n        dataIndex: 'merchantNo',\n        width: 80\n      }, {\n        title: '商户名称',\n        dataIndex: 'merchantName',\n        width: 120\n      }, {\n        title: 'appId',\n        dataIndex: 'appId',\n        width: 80\n      }, {\n        title: 'codeType',\n        dataIndex: 'codeType',\n        width: 80\n      }, {\n        title: 'businessName',\n        dataIndex: 'businessName',\n        width: 100\n      }, {\n        title: 'realType',\n        dataIndex: 'realType',\n        width: 100\n      }, {\n        title: 'realType',\n        dataIndex: 'realType',\n        width: 100\n      }, {\n        title: 'codeName',\n        dataIndex: 'codeName',\n        width: 0\n      }, {\n        title: 'codeProcess',\n        dataIndex: 'codeProcess',\n        width: 0\n      }]; //最前面的选择框\n\n      var selectedRowKeys = this.state.selectedRowKeys;\n      var rowSelection = {\n        type: 'checkbox',\n        selectedRowKeys: selectedRowKeys,\n        columnWidth: 5,\n        onChange: function onChange(selectedRowKeys, selectedRows) {\n          _this3.setState({\n            selectedRowKeys: selectedRowKeys,\n            selectedRows: selectedRows\n          });\n        }\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \" \", React.createElement(_Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(BaseForm, {\n        formList: formList,\n        filterSubmit: this.handleFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      })), React.createElement(_Card, {\n        className: \"operate-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        icon: \"plus\",\n        onClick: function onClick() {\n          return _this3.handleOperate('create');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"\\u65B0\\u589E\\u7ED1\\u5B9A\"), React.createElement(_Button, {\n        type: \"primary\",\n        icon: \"edit\",\n        onClick: function onClick() {\n          return _this3.handleOperate('edit');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"\\u7F16\\u8F91\\u7ED1\\u5B9A\"), React.createElement(_Button, {\n        type: \"primary\",\n        icon: \"delete\",\n        onClick: function onClick() {\n          return _this3.handleOperate('delete');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"\\u5220\\u9664\\u7ED1\\u5B9A\")), React.createElement(\"div\", {\n        className: \"content-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(_Table, {\n        bordered: true,\n        size: \"small\",\n        columns: columns,\n        rowSelection: rowSelection,\n        pagination: this.state.pagination,\n        dataSource: this.state.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      })), React.createElement(_Modal, {\n        title: this.state.title,\n        visible: this.state.isVisible,\n        onOk: this.handleSubmit,\n        onCancel: function onCancel() {\n          _this3.cpChannelBindForm.props.form.resetFields();\n\n          _this3.setState({\n            isVisible: false\n          });\n        },\n        width: 600,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }), React.createElement(CpChannelBindAddForm, {\n        type: this.state.type,\n        merchantList: this.state.merchantList,\n        appIdList: this.state.appIdList,\n        codeTypeList: this.state.codeTypeList //cpChannelBindInfo={this.state.cpChannelBindInfo}\n        ,\n        wrappedComponentRef: function wrappedComponentRef(inst) {\n          _this3.cpChannelBindAddForm = inst;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CpChannelBind;\n}(Component);\n\nexport { CpChannelBind as default };\n\nvar CpChannelBindAddForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CpChannelBindAddForm, _React$Component);\n\n  function CpChannelBindAddForm() {\n    var _getPrototypeOf3;\n\n    var _this4;\n\n    _classCallCheck(this, CpChannelBindAddForm);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(CpChannelBindAddForm)).call.apply(_getPrototypeOf3, [this].concat(args)));\n\n    _this4.remove = function (k) {\n      var form = _this4.props.form;\n      var keys = form.getFieldValue('keys');\n\n      if (keys.length === 1) {\n        return;\n      }\n\n      form.setFieldsValue({\n        keys: keys.filter(function (key) {\n          return key !== k;\n        })\n      });\n    };\n\n    _this4.add = function () {\n      var form = _this4.props.form;\n      var keys = form.getFieldValue('keys');\n      var nextKeys = keys.concat(id++);\n      form.setFieldsValue({\n        keys: nextKeys\n      });\n    };\n\n    return _this4;\n  }\n\n  _createClass(CpChannelBindAddForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var id = 0;\n      var _this$props$form = this.props.form,\n          getFieldDecorator = _this$props$form.getFieldDecorator,\n          getFieldValue = _this$props$form.getFieldValue;\n      var formItemLayoutWithOutLabel = {\n        wrapperCol: {\n          xs: {\n            span: 24,\n            offset: 0\n          },\n          sm: {\n            span: 20,\n            offset: 4\n          }\n        }\n      };\n      var formItemLayout = {\n        labelCol: {\n          span: 5\n        },\n        wrapperCol: {\n          span: 19\n        }\n      };\n      var keys = getFieldValue('keys');\n      var dynamicFormItem = keys.map(function (k, index) {\n        React.createElement(_Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365\n          },\n          __self: this\n        }, React.createElement(FormItem, Object.assign({\n          label: \"codeType\"\n        }, formItemLayout, {\n          key: k,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }), getFieldDecorator(\"codeTypes[\".concat(k, \"]\"), {\n          validateTrigger: ['onChange', 'onBlur'],\n          rules: [{\n            required: true,\n            message: \"请选择一个CodeType!\"\n          }]\n        })(React.createElement(_Select, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }, Utils.getOptionList(_this5.props.codeTypeList)))), React.createElement(FormItem, Object.assign({\n          label: \"codeName\"\n        }, formItemLayout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382\n          },\n          __self: this\n        }), getFieldDecorator(\"codeNames[\".concat(k, \"]\"), {\n          rules: [{\n            required: true,\n            whitespace: true,\n            message: '请输入代码名称!'\n          }]\n        })(React.createElement(_Input, {\n          type: \"text\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EE3\\u7801\\u540D\\u79F0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 392\n          },\n          __self: this\n        }))), React.createElement(FormItem, Object.assign({\n          label: \"codeProcess\"\n        }, formItemLayout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396\n          },\n          __self: this\n        }), getFieldDecorator(\"codeProcesss[\".concat(k, \"]\"), {\n          rules: [{\n            required: true,\n            whitespace: true,\n            message: '请选择一个代码流程!'\n          }]\n        })(React.createElement(_Select, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406\n          },\n          __self: this\n        }, React.createElement(_Input, {\n          type: \"text\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EE3\\u7801\\u6D41\\u7A0B\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407\n          },\n          __self: this\n        })))), keys.length > 1 ? React.createElement(_Icon, {\n          className: \"dynamic-delete-button\",\n          type: \"minus-circle-o\",\n          disabled: keys.length === 1,\n          onClick: function onClick() {\n            return _this5.remove(k);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415\n          },\n          __self: this\n        }) : null);\n      });\n      return React.createElement(_Form, {\n        layout: \"horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({\n        label: \"\\u5546\\u6237\"\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }), getFieldDecorator('merchantNo', {\n        rules: [{\n          required: true,\n          message: '请选择一个商户!'\n        }]\n      })(React.createElement(_Select, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, Utils.getOptionList(this.props.merchantList)))), React.createElement(FormItem, Object.assign({\n        label: \"AppId\"\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }), getFieldDecorator('appId', {\n        rules: [{\n          required: true,\n          message: '请选择一个appId!'\n        }]\n      })(React.createElement(_Select, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, Utils.getOptionList(this.props.appIdList)))), React.createElement(FormItem, Object.assign({}, formItemLayoutWithOutLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }), React.createElement(_Button, {\n        type: \"dashed\",\n        onClick: this.add,\n        style: {\n          width: '60%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }), \" Add field\")), dynamicFormItem);\n    }\n  }]);\n\n  return CpChannelBindAddForm;\n}(React.Component);\n\nCpChannelBindAddForm = _Form.create({})(CpChannelBindAddForm);","map":{"version":3,"sources":["/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/pages/cpchannelbind/index.js"],"names":["React","Component","BaseForm","axios","Utils","Option","FormItem","Item","CpChannelBind","state","list","isVisible","params","page","pageSize","requestSelect","getCodeTypeList","_this","getMerchantList","getAppIdList","requestList","handleOperate","type","items","selectedRows","length","info","title","content","setState","cpChannelBind","ids","map","item","id","confirm","onOk","ajax","url","data","then","res","code","selectedRowKeys","success","merchantInfo","handleFilter","merchantNo","merchantName","codeType","businessName","realType","handleSubmit","cpChannelBindForm","props","form","validateFields","err","values","getFieldsValue","resetFields","error","msg","formList","label","field","width","placeholder","columns","dataIndex","rowSelection","columnWidth","onChange","pagination","merchantList","appIdList","codeTypeList","inst","cpChannelBindAddForm","CpChannelBindAddForm","remove","k","keys","getFieldValue","setFieldsValue","filter","key","add","nextKeys","concat","getFieldDecorator","formItemLayoutWithOutLabel","wrapperCol","xs","span","offset","sm","formItemLayout","labelCol","dynamicFormItem","index","validateTrigger","rules","required","message","getOptionList","whitespace","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport BaseForm from './../../components/BaseForm/index'\nimport axios from './../../../src/axios/index'\nimport { Select, Input,Modal,message,Card,Button,Table,Form ,Icon} from 'antd';\nimport Utils from './../../utils/utils'\nconst Option = Select.Option;\nconst FormItem =Form.Item\nexport default class CpChannelBind extends Component {\n\n\n    state = {\n        list: [],\n        isVisible: false\n    }\n\n    params = {\n        page: 1,\n        pageSize: 20\n    }\n\n    componentDidMount() {\n        this.requestList();\n        this.requestSelect();\n    }\n\n    requestSelect = () => {\n        this.getCodeTypeList();\n\n    }\n    //获取codeType信息\n    getCodeTypeList = () => {\n        let _this = this;\n        axios.requestSelect(_this, '/common/getcodetyelist', {}, true, 'codeTypeList');\n    }\n    //获取商户信息\n    getMerchantList = () => {\n        let _this = this;\n        axios.requestSelect(_this, '/common/getmerchantlist', {}, true, 'merchantList');\n    }\n    //获取AppidList\n    getAppIdList = () => {\n        let _this = this;\n        axios.requestSelect(_this, '/common/getappidlist', {}, true, 'appIdList');\n    }\n\n    requestList = () => {\n        let _this = this;\n        axios.requestList(_this, '/cpchannelbind/getcpchannelbindlist', this.params, true);\n    }\n\n    handleOperate = (type) => {\n        let items = this.state.selectedRows;\n        if (type) {\n            if (type == 'edit') {\n                if (!items || items.length == 0) {\n                    Modal.info({\n                        title: \"提示\",\n                        content: '请选择一个CP绑定通道信息!'\n                    })\n                    return;\n                }\n                if (items.length > 1) {\n                    Modal.info({\n                        title: \"提示\",\n                        content: '只能选择一个CP绑定通道信息编辑!'\n                    })\n                    return;\n                }\n\n                this.setState({\n                    type,\n                    isVisible: true,\n                    title: '编辑CP绑定通道信息',\n                    cpChannelBind: items[0]\n                })\n\n\n                //显示编辑页面\n            } else if (type == 'delete') {\n                if (items && items.length >= 1) {\n                    let _this = this;\n                    let ids = '';\n                    items.map((item) => {\n                        ids += (item.id) + '-';\n                    })\n                    Modal.confirm({\n                        title: '确认删除',\n                        content: '是否要删除选中项',\n                        onOk() {\n                            axios.ajax({\n                                url: '/cpchannelbind/delete',\n                                data: {\n                                    params: {\n                                        ids: ids\n                                    }\n                                }\n                            }).then((res) => {\n                                if (res.code == 0) {\n                                    _this.setState({\n                                        isVisible: false,\n                                        selectedRowKeys: null\n                                    })\n                                    message.success(\"删除成功!\");\n                                    _this.requestList();\n\n                                } else {\n                                    message.success(\"删除失败!\");\n                                }\n\n                            })\n                        }\n\n                    })\n\n                } else {\n                    Modal.info({\n                        title: \"提示\",\n                        content: '请选择一个CP通道绑定信息!'\n                    })\n                    return;\n                }\n            } else if (type == 'create') {\n                this.setState({\n                    type,\n                    isVisible: true,\n                    title: '创建CP通道绑定',\n                    merchantInfo: null\n                }\n                )\n            }\n        }\n\n    }\n\n    //接收baseForm 组件表单中的查询参数\n    handleFilter = (params) => {\n        this.params.merchantNo = params.merchantNo;\n        this.params.merchantName = params.merchantName;\n        this.params.codeType = params.codeType;\n        this.params.businessName = params.businessName;\n        this.params.realType = params.realType;\n        this.requestList();\n    }\n\n    // 创建/编辑cp绑定信息提交\n    handleSubmit = () => {\n        let type = this.state.type;\n        this.cpChannelBindForm.props.form.validateFields((err, values) => {\n            if (!err) {\n                let data = this.cpChannelBindForm.props.form.getFieldsValue();\n                let info = type == 'create' ? '新增' : '编辑';\n                axios.ajax({\n                    url: type == 'create' ? '/cpchannelbind/add' : '/cpchannelbind/edit',\n                    data: {\n                        params: data\n                    }\n                }).then((res) => {\n                    if (res.code == 0) {\n                        this.cpChannelBindForm.props.form.resetFields();\n                        this.setState({\n                            isVisible: false,\n                            selectedRowKeys: null\n                        })\n                        message.success(info + \"成功!\");\n                        this.requestList();\n\n                    } else {\n                        message.error(info + \"失败! \" + res.msg);\n                    }\n                })\n            }\n        });\n\n    }\n\n\n    render() {\n        const formList = [\n            {\n                type: 'INPUT',\n                label: '商户号',\n                field: 'merchantNo',\n                width: 200,\n                placeholder: '请输入查询的商户号'\n            }, {\n                type: 'INPUT',\n                label: '商户名称',\n                field: 'merchantName',\n                width: 200,\n                placeholder: '请输入查询的商户名称'\n            }\n            , {\n                type: 'INPUT',\n                label: 'codeType',\n                field: 'codeType',\n                width: 200,\n                placeholder: '请输入查询的codeType'\n            }, {\n                type: 'INPUT',\n                label: '业务名称',\n                field: 'businessName',\n                width: 200,\n                placeholder: '请输入查询的业务名称'\n            }\n            , {\n                type: 'INPUT',\n                label: '真实类型',\n                field: 'realType',\n                width: 200,\n                placeholder: '请输入查询的真实类型'\n            }\n        ]\n\n        //设置列名\n        const columns = [{\n            title: 'Id',\n            dataIndex: 'id',\n            width: 80\n        }, {\n            title: '商户号',\n            dataIndex: 'merchantNo',\n            width: 80\n        }, {\n            title: '商户名称',\n            dataIndex: 'merchantName',\n            width: 120\n        }, {\n            title: 'appId',\n            dataIndex: 'appId',\n            width: 80\n        }, {\n            title: 'codeType',\n            dataIndex: 'codeType',\n            width: 80\n        }, {\n            title: 'businessName',\n            dataIndex: 'businessName',\n            width: 100\n        }, {\n            title: 'realType',\n            dataIndex: 'realType',\n            width: 100\n        }, {\n            title: 'realType',\n            dataIndex: 'realType',\n            width: 100\n        }, {\n            title: 'codeName',\n            dataIndex: 'codeName',\n            width: 0\n        }, {\n            title: 'codeProcess',\n            dataIndex: 'codeProcess',\n            width: 0\n        }\n    \n    ];\n        //最前面的选择框\n        const selectedRowKeys = this.state.selectedRowKeys;\n\n        const rowSelection = {\n            type: 'checkbox',\n            selectedRowKeys,\n            columnWidth: 5,\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.setState({\n                    selectedRowKeys,\n                    selectedRows\n                })\n            }\n        }\n\n        return (\n            <div> <Card >\n                <BaseForm formList={formList} filterSubmit={this.handleFilter} />\n            </Card>\n\n                <Card className='operate-wrap'>\n                    <Button type='primary' icon='plus' onClick={() => this.handleOperate('create')}>新增绑定</Button>\n                    <Button type='primary' icon='edit' onClick={() => this.handleOperate('edit')}>编辑绑定</Button>\n                    <Button type='primary' icon='delete' onClick={() => this.handleOperate('delete')}>删除绑定</Button>\n                </Card>\n                <div className=\"content-wrap\">\n                    <Table\n                        bordered\n                        size='small'\n                        columns={columns}\n                        rowSelection={rowSelection}\n                        pagination={this.state.pagination}\n                        dataSource={this.state.list}\n                    />\n\n                </div>\n                <Modal\n                    title={this.state.title}\n                    visible={this.state.isVisible}\n                    onOk={this.handleSubmit}\n                    onCancel={() => {\n                        this.cpChannelBindForm.props.form.resetFields();\n                        this.setState({\n                            isVisible: false\n                        })\n                    }}\n                    width={600}\n                />\n                <CpChannelBindAddForm type={this.state.type}\n                    merchantList={this.state.merchantList}\n                    appIdList={this.state.appIdList}\n                    codeTypeList={this.state.codeTypeList}\n                    //cpChannelBindInfo={this.state.cpChannelBindInfo}\n                    wrappedComponentRef={(inst) => { this.cpChannelBindAddForm = inst; }} />\n            </div>\n        );\n    }\n\n}\n\n\nclass CpChannelBindAddForm extends React.Component {\n\n    remove = (k) => {\n        const { form } = this.props;\n\n        const keys = form.getFieldValue('keys');\n    \n        if (keys.length === 1) {\n          return;\n        }\n    \n        form.setFieldsValue({\n          keys: keys.filter(key => key !== k),\n        });\n      }\n    \n      add = () => {\n        const { form } = this.props;\n     \n        const keys = form.getFieldValue('keys');\n        const nextKeys = keys.concat(id++);\n       \n        form.setFieldsValue({\n          keys: nextKeys,\n        });\n      }\n    \n\n    render() {\n        let id = 0;\n        const { getFieldDecorator, getFieldValue } = this.props.form;\n        const formItemLayoutWithOutLabel = {\n            wrapperCol: {\n                xs: { span: 24, offset: 0 },\n                sm: { span: 20, offset: 4 },\n            },\n        };\n        const formItemLayout = {\n            labelCol: { span: 5 },\n            wrapperCol: { span: 19 }\n        }\n       \n\n        const keys = getFieldValue('keys');\n        const dynamicFormItem = keys.map((k, index) => {\n\n            <Card>\n                <FormItem label=\"codeType\"  {...formItemLayout}\n                    key={k}\n                >\n                    {getFieldDecorator(`codeTypes[${k}]`, {\n                        validateTrigger: ['onChange', 'onBlur'],\n                        rules: [{\n                            required: true,\n\n                            message: \"请选择一个CodeType!\",\n                        }],\n                    })(\n                        <Select>\n                            {Utils.getOptionList(this.props.codeTypeList)}\n                        </Select>\n                    )}\n                </FormItem>\n                <FormItem label=\"codeName\" {...formItemLayout}>\n                    {\n\n                        getFieldDecorator(`codeNames[${k}]`, {\n                            rules: [{\n                                required: true,\n                                whitespace: true,\n                                message: '请输入代码名称!'\n                            }]\n                        })(\n                            <Input type='text' placeholder='请输入代码名称'></Input>\n                        )\n                    }\n                </FormItem>\n                <FormItem label=\"codeProcess\"  {...formItemLayout}>\n                    {\n\n                        getFieldDecorator(`codeProcesss[${k}]`, {\n                            rules: [{\n                                required: true,\n                                whitespace: true,\n                                message: '请选择一个代码流程!'\n                            }]\n                        })(\n                            <Select>\n                                <Input type='text' placeholder='请输入代码流程'></Input>\n                            </Select>\n                        )\n                    }\n                </FormItem>\n\n                {\n                    keys.length > 1 ? (\n                        <Icon\n                            className=\"dynamic-delete-button\"\n                            type=\"minus-circle-o\"\n                            disabled={keys.length === 1}\n                            onClick={() => this.remove(k)}\n                        />\n                    ) : null\n                }\n            </Card>\n        })\n\n        return (\n            <Form layout=\"horizontal\">\n                <FormItem label=\"商户\" {...formItemLayout}>\n                    {\n                        getFieldDecorator('merchantNo', {\n                            rules: [{ required: true, message: '请选择一个商户!' }]\n                        })(\n                            <Select>\n                                {Utils.getOptionList(this.props.merchantList)}\n                            </Select>\n                        )\n                    }\n                </FormItem>\n                <FormItem label=\"AppId\" {...formItemLayout}>\n                    {\n\n                        getFieldDecorator('appId', {\n\n                            rules: [{ required: true, message: '请选择一个appId!' }]\n                        })(\n                            <Select>\n                                {Utils.getOptionList(this.props.appIdList)}\n                            </Select>\n                        )\n                    }\n                </FormItem>\n\n\n                <FormItem {...formItemLayoutWithOutLabel}>\n                    <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n                        <Icon type=\"plus\" /> Add field\n                   </Button>\n                </FormItem>\n                {dynamicFormItem}\n            </Form>\n        );\n    }\n}\nCpChannelBindAddForm = Form.create({})(CpChannelBindAddForm);"]},"metadata":{},"sourceType":"module"}