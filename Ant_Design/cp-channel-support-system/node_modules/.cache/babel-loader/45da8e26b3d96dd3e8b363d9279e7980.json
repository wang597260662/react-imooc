{"ast":null,"code":"import _objectWithoutProperties from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/privateroute.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\n\nvar PrivateRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PrivateRoute, _Component);\n\n  function PrivateRoute(props) {\n    var _this;\n\n    _classCallCheck(this, PrivateRoute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PrivateRoute).call(this, props));\n    _this.state = {\n      isAuthenticated: window.sessionStorage.getItem(\"loginToken\") ? true : false\n    };\n    return _this;\n  }\n\n  _createClass(PrivateRoute, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!this.state.isAuthenticated) {\n        var history = this.props.history;\n        setTimeout(function () {\n          history.replace(\"/login\");\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.component,\n          rest = _objectWithoutProperties(_this$props, [\"component\"]);\n\n      return this.state.isAuthenticated ? React.createElement(Route, Object.assign({}, rest, {\n        render: function render(props) {\n          return React.createElement(Component, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      })) : React.createElement(\"p\", {\n        style: {\n          \"width\": \"100%\",\n          \"text-align\": \"center\",\n          \"fontSize\": \"20px\",\n          \"lineHeight\": \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, \"\\u8BF7\\u767B\\u5F55...\");\n    }\n  }]);\n\n  return PrivateRoute;\n}(Component);\n\nexport default withRouter(PrivateRoute);","map":{"version":3,"sources":["/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/privateroute.js"],"names":["React","Component","Route","withRouter","PrivateRoute","props","state","isAuthenticated","window","sessionStorage","getItem","history","setTimeout","replace","component","rest"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,KAAR,EAAeC,UAAf,QAAgC,kBAAhC;;IAEMC,Y;;;;;AACF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,sFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,eAAe,EAAEC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,IAA8C,IAA9C,GAAoD;AAD5D,KAAb;AAFe;AAKlB;;;;yCAEoB;AACjB,UAAG,CAAC,KAAKJ,KAAL,CAAWC,eAAf,EAA+B;AAAA,YACpBI,OADoB,GACT,KAAKN,KADI,CACpBM,OADoB;AAE3BC,QAAAA,UAAU,CAAC,YAAM;AACbD,UAAAA,OAAO,CAACE,OAAR,CAAgB,QAAhB;AACH,SAFS,CAAV;AAGH;AACJ;;;6BAEQ;AAAA,wBACkC,KAAKR,KADvC;AAAA,UACYJ,SADZ,eACCa,SADD;AAAA,UAC0BC,IAD1B;;AAEL,aAAQ,KAAKT,KAAL,CAAWC,eAAX,GACP,oBAAC,KAAD,oBAAWQ,IAAX;AAAiB,QAAA,MAAM,EAAE,gBAACV,KAAD;AAAA,iBAAa,oBAAC,SAAD,oBAAeA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAb;AAAA,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADO,GAEM;AAAG,QAAA,KAAK,EAAI;AAAC,mBAAS,MAAV;AAAkB,wBAAc,QAAhC;AAA0C,sBAAY,MAAtD;AAA8D,wBAAc;AAA5E,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAFd;AAIH;;;;EAvBsBJ,S;;AA0B3B,eAAeE,UAAU,CAACC,YAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport {Route, withRouter} from 'react-router-dom';\n\nclass PrivateRoute extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isAuthenticated: window.sessionStorage.getItem(\"loginToken\") ? true: false\n        }\n    }\n\n    componentWillMount() {\n        if(!this.state.isAuthenticated){\n            const {history} = this.props;\n            setTimeout(() => {\n                history.replace(\"/login\");\n            })\n        }\n    }\n\n    render() {\n        let { component: Component, ...rest} = this.props;\n        return  this.state.isAuthenticated ? \n        (<Route {...rest} render={(props) => ( <Component {...props} /> \n            )}/> ) : (<p style = {{\"width\": \"100%\", \"text-align\": \"center\", \"fontSize\": \"20px\", \"lineHeight\": \"50px\"}}>请登录...</p>)\n\n    }\n}\n\nexport default withRouter(PrivateRoute);\n"]},"metadata":{},"sourceType":"module"}