{"ast":null,"code":"import _objectWithoutProperties from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/privateroute.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\n\nvar PrivateRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PrivateRoute, _Component);\n\n  function PrivateRoute(props) {\n    var _this;\n\n    _classCallCheck(this, PrivateRoute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PrivateRoute).call(this, props));\n    _this.state = {\n      isAuthenticated: window.sessionStorage.getItem(\"result\") ? true : false\n    };\n    return _this;\n  }\n\n  _createClass(PrivateRoute, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!this.state.isAuthenticated) {\n        var history = this.props.history;\n        history.replace(\"/login\"); //  this.props.history.push('/login')\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.component,\n          rest = _objectWithoutProperties(_this$props, [\"component\"]);\n\n      return this.state.isAuthenticated ? React.createElement(Route, Object.assign({}, rest, {\n        render: function render(props) {\n          return React.createElement(Component, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      })) : React.createElement(\"p\", {\n        style: {\n          \"width\": \"100%\",\n          \"text-align\": \"center\",\n          \"fontSize\": \"20px\",\n          \"lineHeight\": \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, \"\\u8BF7\\u767B\\u5F55...\");\n    }\n  }]);\n\n  return PrivateRoute;\n}(Component);\n\nexport default withRouter(PrivateRoute);","map":{"version":3,"sources":["/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/privateroute.js"],"names":["React","Component","Route","withRouter","PrivateRoute","props","state","isAuthenticated","window","sessionStorage","getItem","history","replace","component","rest"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,kBAAlC;;IAEMC,Y;;;;;AACF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,sFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,eAAe,EAAEC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,IAA0C,IAA1C,GAAiD;AADzD,KAAb;AAFe;AAKlB;;;;yCAEoB;AACjB,UAAI,CAAC,KAAKJ,KAAL,CAAWC,eAAhB,EAAiC;AAAA,YACrBI,OADqB,GACT,KAAKN,KADI,CACrBM,OADqB;AAG7BA,QAAAA,OAAO,CAACC,OAAR,CAAgB,QAAhB,EAH6B,CAI7B;AACH;AACJ;;;6BAEQ;AAAA,wBACmC,KAAKP,KADxC;AAAA,UACYJ,SADZ,eACCY,SADD;AAAA,UAC0BC,IAD1B;;AAEL,aAAO,KAAKR,KAAL,CAAWC,eAAX,GACF,oBAAC,KAAD,oBAAWO,IAAX;AAAiB,QAAA,MAAM,EAAE,gBAACT,KAAD;AAAA,iBAAY,oBAAC,SAAD,oBAAeA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAZ;AAAA,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADE,GAEO;AAAG,QAAA,KAAK,EAAE;AAAE,mBAAS,MAAX;AAAmB,wBAAc,QAAjC;AAA2C,sBAAY,MAAvD;AAA+D,wBAAc;AAA7E,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAFd;AAIH;;;;EAvBsBJ,S;;AA0B3B,eAAeE,UAAU,CAACC,YAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\n\nclass PrivateRoute extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isAuthenticated: window.sessionStorage.getItem(\"result\") ? true : false\n        }\n    }\n\n    componentWillMount() {\n        if (!this.state.isAuthenticated) {\n            const { history } = this.props;\n\n            history.replace(\"/login\");\n            //  this.props.history.push('/login')\n        }\n    }\n\n    render() {\n        let { component: Component, ...rest } = this.props;\n        return this.state.isAuthenticated ?\n            (<Route {...rest} render={(props) => (<Component {...props} />\n            )} />) : (<p style={{ \"width\": \"100%\", \"text-align\": \"center\", \"fontSize\": \"20px\", \"lineHeight\": \"50px\" }}>请登录...</p>)\n\n    }\n}\n\nexport default withRouter(PrivateRoute);\n"]},"metadata":{},"sourceType":"module"}