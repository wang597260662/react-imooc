{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport _defineProperty from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wanghaojie/Ant_Design/cp-channel-support-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport JsonP from 'jsonp';\nimport axios from 'axios';\nimport Utils from '../utils/utils';\n\nvar Axios =\n/*#__PURE__*/\nfunction () {\n  function Axios() {\n    _classCallCheck(this, Axios);\n  }\n\n  _createClass(Axios, null, [{\n    key: \"requestList\",\n    value: function requestList(_this, url, params, isMock) {\n      var data = {\n        params: params,\n        isMock: isMock\n      };\n      this.ajax_post({\n        url: url,\n        data: data\n      }).then(function (data) {\n        if (data && data.result) {\n          var list = data.result.itemList.map(function (item, index) {\n            item.key = index;\n            return item;\n          });\n\n          _this.setState({\n            list: list,\n            pagination: Utils.pagination(data, function (current, pageSize) {\n              _this.params.page = current;\n              _this.params.pageSize = pageSize;\n\n              _this.requestList();\n            }, function (current, pageSize) {\n              _this.params.page = current;\n              _this.params.pageSize = pageSize;\n\n              _this.requestList();\n            })\n          });\n        }\n      });\n    }\n  }, {\n    key: \"requestSelect\",\n    value: function requestSelect(_this, url, params, isMock, name) {\n      var data = {\n        params: params,\n        isMock: isMock\n      };\n      this.ajax_post({\n        url: url,\n        data: data\n      }).then(function (data) {\n        if (data && data.result) {\n          var list = data.result.itemList.map(function (item, index) {\n            item.key = index;\n            return item;\n          });\n\n          _this.setState(_defineProperty({}, name, list));\n        }\n      });\n    }\n  }, {\n    key: \"jsonp\",\n    value: function jsonp(options) {\n      return new Promise(function (resolve, reject) {\n        JsonP(options.url, {\n          param: 'callback'\n        }, function (err, response) {\n          if (response.status == 'success') {\n            resolve(response);\n          } else {\n            reject(response.messsage);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"ajax_post\",\n    value: function ajax_post(options) {\n      var loading;\n\n      if (options.data && options.data.isShowLoading !== false) {\n        loading = document.getElementById('ajaxLoading');\n        loading.style.display = 'block';\n      }\n\n      var baseApi = '';\n\n      if (options.isMock) {//  baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n      } else {// baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n        }\n\n      return new Promise(function (resolve, reject) {\n        axios.post(baseApi + options.url, options.data && options.data.params || {}).then(function (response) {\n          if (options.data && options.data.isShowLoading !== false) {\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'none';\n          }\n\n          if (response.status == '200') {\n            var res = response.data;\n\n            if (res.code == '0') {\n              resolve(res);\n            } else {\n              _Modal.info({\n                title: \"提示\",\n                content: res.msg\n              });\n            }\n          } else {\n            reject(response.data);\n          }\n        }).catch(function (error) {\n          if (options.data && options.data.isShowLoading !== false) {\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'none';\n          }\n\n          _Modal.error({\n            title: \"加载失败!\",\n            content: \"加载失败!\"\n          });\n        });\n      });\n    }\n  }, {\n    key: \"ajax\",\n    value: function ajax(options) {\n      var loading;\n\n      if (options.data && options.data.isShowLoading !== false) {\n        loading = document.getElementById('ajaxLoading');\n        loading.style.display = 'block';\n      }\n\n      var baseApi = '';\n\n      if (options.isMock) {\n        baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n      } else {\n        baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n      }\n\n      return new Promise(function (resolve, reject) {\n        axios({\n          url: options.url,\n          method: 'get',\n          baseURL: baseApi,\n          timeout: 5000,\n          params: options.data && options.data.params || ''\n        }).then(function (response) {\n          if (options.data && options.data.isShowLoading !== false) {\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'none';\n          }\n\n          if (response.status == '200') {\n            var res = response.data;\n\n            if (res.code == '0') {\n              resolve(res);\n            } else {\n              _Modal.info({\n                title: \"提示\",\n                content: res.msg\n              });\n            }\n          } else {\n            reject(response.data);\n          }\n        }).catch(function (error) {\n          if (options.data && options.data.isShowLoading !== false) {\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'none';\n          }\n\n          _Modal.error({\n            title: \"加载失败!\",\n            content: \"加载失败!\"\n          });\n        });\n      });\n    }\n  }]);\n\n  return Axios;\n}();\n\nexport { Axios as default };","map":{"version":3,"sources":["/Users/wanghaojie/Ant_Design/cp-channel-support-system/src/axios/index.js"],"names":["JsonP","axios","Utils","Axios","_this","url","params","isMock","data","ajax_post","then","result","list","itemList","map","item","index","key","setState","pagination","current","pageSize","page","requestList","name","options","Promise","resolve","reject","param","err","response","status","messsage","loading","isShowLoading","document","getElementById","style","display","baseApi","post","res","code","info","title","content","msg","catch","error","method","baseURL","timeout"],"mappings":"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","sourcesContent":["import JsonP from 'jsonp'\nimport axios from 'axios'\nimport { Modal } from 'antd'\nimport Utils from '../utils/utils'\nexport default class Axios {\n\n    static requestList(_this,url,params,isMock){\n        var data = {\n            params: params,\n            isMock\n        }\n        this.ajax_post({\n            url,\n            data\n        }).then((data)=>{\n       \n            if (data && data.result){\n                let list = data.result.itemList.map((item, index) => {\n                    item.key = index;\n                    return item;\n                });\n              \n                _this.setState({\n                    list,\n                    pagination: Utils.pagination(data, (current,pageSize) => {\n                        _this.params.page = current;\n                        _this.params.pageSize = pageSize;\n                        _this.requestList();\n                    },(current,pageSize) => {\n                        _this.params.page = current;\n                        _this.params.pageSize = pageSize;\n                        _this.requestList();\n                    })\n                })\n            }\n        });\n    }\n\n\n    static requestSelect(_this,url,params,isMock,name){\n        var data = {\n            params: params,\n            isMock\n        }\n        this.ajax_post({\n            url,\n            data\n        }).then((data)=>{\n       \n            if (data && data.result){\n                let list = data.result.itemList.map((item, index) => {\n                    item.key = index;\n                    return item;\n                });\n                _this.setState({\n                [name] :list\n                })\n            }\n        });\n    }\n\n\n    static jsonp(options) {\n        return new Promise((resolve, reject) => {\n            JsonP(options.url, {\n                param: 'callback'\n            }, function (err, response) {\n                if (response.status == 'success') {\n                    resolve(response);\n                } else {\n                    reject(response.messsage);\n                }\n            })\n        })\n    }\n\n\n\n\n    static ajax_post(options){\n        let loading;\n        if (options.data && options.data.isShowLoading !== false){\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'block';\n        }\n        let baseApi = '';\n        if(options.isMock){\n          //  baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n        }else{\n           // baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n        }\n        return new Promise((resolve,reject)=>{\n            axios.post(baseApi+options.url ,(options.data && options.data.params) || {}).then((response)=>{\n                if (options.data && options.data.isShowLoading !== false) {\n                    loading = document.getElementById('ajaxLoading');\n                    loading.style.display = 'none';\n                }\n                if (response.status == '200'){\n                    let res = response.data;\n                    if (res.code == '0'){\n                        resolve(res);\n                    }else{\n                        Modal.info({\n                            title:\"提示\",\n                            content:res.msg\n                        })\n                    }\n                }else{\n                    reject(response.data);\n                }\n            }).catch( (error)=> {\n                if (options.data && options.data.isShowLoading !== false) {\n                    loading = document.getElementById('ajaxLoading');\n                    loading.style.display = 'none';\n                }\n                Modal.error({\n                    title:\"加载失败!\",\n                    content:\"加载失败!\"\n                })\n              })\n        });\n    }\n    \n\n    static ajax(options){\n        let loading;\n        if (options.data && options.data.isShowLoading !== false){\n            loading = document.getElementById('ajaxLoading');\n            loading.style.display = 'block';\n        }\n        let baseApi = '';\n        if(options.isMock){\n            baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n        }else{\n            baseApi = 'http://172.16.3.34:7300/mock/5c8b52301c146e070a90cd46/example';\n        }\n        return new Promise((resolve,reject)=>{\n            axios({\n                url:options.url,\n                method:'get',\n                baseURL:baseApi,\n                timeout:5000,\n                params: (options.data && options.data.params) || ''\n            }).then((response)=>{\n                if (options.data && options.data.isShowLoading !== false) {\n                    loading = document.getElementById('ajaxLoading');\n                    loading.style.display = 'none';\n                }\n                if (response.status == '200'){\n                    let res = response.data;\n                    if (res.code == '0'){\n                        resolve(res);\n                    }else{\n                        Modal.info({\n                            title:\"提示\",\n                            content:res.msg\n                        })\n                    }\n                }else{\n                    reject(response.data);\n                }\n            }).catch( (error)=> {\n                if (options.data && options.data.isShowLoading !== false) {\n                    loading = document.getElementById('ajaxLoading');\n                    loading.style.display = 'none';\n                }\n                Modal.error({\n                    title:\"加载失败!\",\n                    content:\"加载失败!\"\n                })\n              })\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}